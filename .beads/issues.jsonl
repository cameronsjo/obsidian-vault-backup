{"id":"obsidian-vault-backup-07i","title":"Document restore procedures","description":"README has only 4 lines on restore. Need proper documentation covering:\n\n- Git restore: viewing history, restoring single files, comparing versions\n- Restic restore: listing snapshots, restoring files/folders, mounting snapshots\n- Disaster recovery: full vault restore from restic\n- Using the restore UI (once built)\n\nShould live in README under an expanded Restore section. Not a separate docs file - keep it simple.","status":"open","priority":3,"issue_type":"task","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-08T12:50:55.619468-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-08T12:50:55.619468-06:00","labels":["just-do-it"],"dependencies":[{"issue_id":"obsidian-vault-backup-07i","depends_on_id":"obsidian-vault-backup-rpv","type":"blocks","created_at":"2026-02-08T12:52:48.365376-06:00","created_by":"Cameron Sjo"},{"issue_id":"obsidian-vault-backup-07i","depends_on_id":"obsidian-vault-backup-eqn","type":"blocks","created_at":"2026-02-08T12:52:48.44717-06:00","created_by":"Cameron Sjo"}]}
{"id":"obsidian-vault-backup-0px","title":"No /ready endpoint in health server","description":"health.py only serves /health. Per container standards, a /ready endpoint SHOULD exist when startup has async initialization.\n\nThis app has async init: git repo setup, restic repo check, state dir creation. Kubernetes/Docker health checks can't distinguish between 'not started yet' and 'started but unhealthy'.\n\nAdd /ready that returns 503 until initialization completes, then 200.","status":"closed","priority":3,"issue_type":"task","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-08T13:07:28.469117-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-08T13:38:42.051931-06:00","closed_at":"2026-02-08T13:38:42.051931-06:00","close_reason":"Fixed and verified by test suite","labels":["just-do-it"]}
{"id":"obsidian-vault-backup-1l8","title":"Global mutable _health_state lacks thread safety","description":"health.py uses a global _health_state variable (line 22) that is set from the main thread in HealthServer.start() (line 177) and read from the HTTP handler thread in HealthHandler._send_health() (line 136).\n\nWhile Python's GIL makes the reference assignment atomic, HealthState.to_dict() reads mutable state (state files, subprocess calls) that could race with the backup writing to those same state files.\n\nConsider: threading.Lock around state reads, or making HealthState immutable and swapping references atomically.","status":"closed","priority":3,"issue_type":"bug","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-08T13:06:58.548861-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-08T13:38:42.080821-06:00","closed_at":"2026-02-08T13:38:42.080821-06:00","close_reason":"Fixed and verified by test suite","labels":["just-do-it"]}
{"id":"obsidian-vault-backup-20g","title":"Add logging to watcher.py","description":"watcher.py needs logging for:\n- DebouncedHandler.__init__: No logging of debounce config\n- DebouncedHandler._should_ignore(): No debug logging when paths are ignored\n- DebouncedHandler._trigger_backup(): Logs trigger but not callback outcome\n- DebouncedHandler.cancel(): No logging when timer is cancelled\n- VaultWatcher.wait(): No logging\n\nThe debounce/trigger flow is critical for understanding timing issues.","status":"closed","priority":3,"issue_type":"task","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-08T13:06:11.664475-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-08T13:21:17.572097-06:00","closed_at":"2026-02-08T13:21:17.572097-06:00","close_reason":"Closed","labels":["just-do-it"],"dependencies":[{"issue_id":"obsidian-vault-backup-20g","depends_on_id":"obsidian-vault-backup-5ii","type":"blocks","created_at":"2026-02-08T13:06:23.807873-06:00","created_by":"Cameron Sjo"}]}
{"id":"obsidian-vault-backup-2qe","title":"backup.py state file writes have no error handling","description":"backup.py run_backup() writes to state files (lines 263, 276):\n    (state_dir / 'last_commit').write_text(...)\n    (state_dir / 'last_backup').write_text(...)\n\nNo error handling for disk full, permission denied, or state_dir not existing. A failed state write would crash the backup callback silently (caught by watcher's bare except, logged as 'Backup callback failed').\n\nState file writes should be guarded and failures should be non-fatal.","status":"closed","priority":3,"issue_type":"bug","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-08T13:07:40.648907-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-08T13:38:42.022225-06:00","closed_at":"2026-02-08T13:38:42.022225-06:00","close_reason":"Fixed and verified by test suite","labels":["just-do-it"]}
{"id":"obsidian-vault-backup-59s","title":"Watcher _should_ignore() uses substring matching (false positives)","description":"watcher.py DebouncedHandler._should_ignore() (lines 50-55) checks if IGNORE_PATTERNS substrings appear anywhere in the path:\n\n    for pattern in self.IGNORE_PATTERNS:\n        if pattern in path:\n            return True\n\nThis means a file like 'notes/.gitignore_backup' matches '.git', and 'my.trash.md' matches '.trash'. Any filename containing an ignore pattern substring gets silently dropped.\n\nShould use path component matching (check if pattern is a path segment) instead of raw substring search.","status":"closed","priority":3,"issue_type":"bug","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-08T13:07:12.561105-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-08T13:38:41.990461-06:00","closed_at":"2026-02-08T13:38:41.990461-06:00","close_reason":"Fixed and verified by test suite","labels":["just-do-it"]}
{"id":"obsidian-vault-backup-5ii","title":"Add structured logging","description":"Current logging is basic Python logging with a simple format string. Needs upgrade to structured JSON logging per project standards.\n\nCurrent state:\n- logging.basicConfig with format='%(asctime)s [%(name)s] %(message)s'\n- No structured fields, no trace IDs, no context parameters\n\nNeeded:\n- Structured JSON logging (stdout, for container consumption)\n- Action-oriented messages with context parameters\n- Log levels used consistently (DEBUG for file events, INFO for backup operations, WARNING for retries, ERROR for failures)\n- Consider python-json-logger or structlog\n\nNote: No OpenTelemetry needed for a sidecar backup tool - that would be over-engineering. Structured logs are sufficient.","status":"closed","priority":2,"issue_type":"feature","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-08T12:50:37.589051-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-08T13:21:16.596756-06:00","closed_at":"2026-02-08T13:21:16.596756-06:00","close_reason":"Closed","labels":["just-do-it"]}
{"id":"obsidian-vault-backup-5p7","title":"Add logging to __main__.py","description":"__main__.py needs logging for:\n- validate_environment(): No log on successful validation\n- initialize_state_dir(): No logging at all - completely silent\n- validate_vault(): Logs errors but not success\n- initialize_git(): No logging on git config subprocess results/failures\n- check_restic(): Logs warnings but not success\n- main(): No logging of loaded config values (vault_path, debounce_seconds, etc.)\n- on_changes(): No logging for no-change case (success but no backup created)\n\nAs the entry point, this file sets the stage. Startup should log the full configuration for debugging container issues.","status":"closed","priority":3,"issue_type":"task","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-08T13:06:17.404966-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-08T13:21:17.809161-06:00","closed_at":"2026-02-08T13:21:17.809161-06:00","close_reason":"Closed","labels":["just-do-it"],"dependencies":[{"issue_id":"obsidian-vault-backup-5p7","depends_on_id":"obsidian-vault-backup-5ii","type":"blocks","created_at":"2026-02-08T13:06:23.893834-06:00","created_by":"Cameron Sjo"}]}
{"id":"obsidian-vault-backup-81k","title":"Add logging to health.py","description":"health.py needs logging for:\n- HealthState._count_commits_since(): Silently swallows CalledProcessError\n- HealthState._read_sync_state(): Silently swallows JSONDecodeError\n- HealthServer.start(): Logs port but not bind address (0.0.0.0)\n- HealthHandler.do_GET(): Only DEBUG level via override; no visibility into requests\n\nSilent exception swallowing in _count_commits_since and _read_sync_state makes debugging health check issues impossible.","status":"closed","priority":3,"issue_type":"task","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-08T13:06:06.744493-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-08T13:21:17.284358-06:00","closed_at":"2026-02-08T13:21:17.284358-06:00","close_reason":"Closed","labels":["just-do-it"],"dependencies":[{"issue_id":"obsidian-vault-backup-81k","depends_on_id":"obsidian-vault-backup-5ii","type":"blocks","created_at":"2026-02-08T13:06:23.698007-06:00","created_by":"Cameron Sjo"}]}
{"id":"obsidian-vault-backup-9r5","title":"Watcher writes state files on every file event (perf)","description":"watcher.py DebouncedHandler._schedule_backup() (lines 75-76) writes to state files last_change and pending_changes on EVERY file system event, before debouncing.\n\nObsidian can generate dozens of file events per second during sync operations. Each event does two synchronous file writes. This is unnecessary I/O since the debounce timer hasn't fired yet.\n\nState file writes should be debounced too, or only written when the timer fires.","status":"closed","priority":3,"issue_type":"task","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-08T13:07:04.939191-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-08T13:38:42.109739-06:00","closed_at":"2026-02-08T13:38:42.109739-06:00","close_reason":"Fixed and verified by test suite","labels":["just-do-it"]}
{"id":"obsidian-vault-backup-aff","title":"validate_environment() hardcodes Azure as required backend","description":"__main__.py validate_environment() (lines 48-60) hardcodes AZURE_ACCOUNT_NAME and AZURE_ACCOUNT_KEY as required env vars alongside RESTIC_REPOSITORY and RESTIC_PASSWORD.\n\nThis breaks ALL non-Azure backends: S3, B2, SFTP, local, REST server. The app won't even start without Azure credentials even if you're backing up to a local path or S3.\n\nOnly RESTIC_REPOSITORY and RESTIC_PASSWORD should be required. Backend-specific vars should be validated based on the repository URL scheme (azure:, s3:, b2:, sftp:, rest:, /local/path).","status":"closed","priority":1,"issue_type":"bug","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-08T13:06:51.49021-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-08T13:23:18.859665-06:00","closed_at":"2026-02-08T13:23:18.859665-06:00","close_reason":"Closed","labels":["just-do-it"]}
{"id":"obsidian-vault-backup-agj","title":"Configure Discord webhook in container deployment","description":"No DISCORD_WEBHOOK_URL, SLACK_WEBHOOK_URL, or WEBHOOK_URL is set in the running container. The notification code exists but has no destination. Need to add a webhook URL to the container env vars.","status":"closed","priority":1,"issue_type":"task","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-08T13:12:40.544553-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-08T13:20:38.037762-06:00","closed_at":"2026-02-08T13:20:38.037767-06:00","close_reason":"Done. Added DISCORD_WEBHOOK_URL, DISCORD_WEBHOOK_USERNAME, and DISCORD_WEBHOOK_AVATAR_URL to homelab deployment manifest (homelab@173eb14). Uses Gatus shared webhook with per-request identity override.","labels":["task"]}
{"id":"obsidian-vault-backup-ahz","title":"Add Sentry error tracking","description":"No error tracking currently. Add sentry-sdk for crash reporting and error monitoring.\n\nIntegration points:\n- Initialize in __main__.py with SENTRY_DSN env var\n- Capture exceptions in backup.py (git failures, restic failures)\n- Capture exceptions in notify.py (webhook delivery failures)\n- Capture exceptions in watcher.py (watchdog errors)\n- Tag events with: vault_path, backup_type (git/restic), container_id\n\nKeep it simple:\n- sentry_sdk.init() with DSN from env\n- Optional - disabled if SENTRY_DSN not set\n- Set environment tag from ENV or SENTRY_ENVIRONMENT\n- Set release from package version\n\nDependency: sentry-sdk[pure_eval]","status":"closed","priority":2,"issue_type":"feature","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-08T12:50:45.318287-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-08T13:43:13.119137-06:00","closed_at":"2026-02-08T13:43:13.119137-06:00","close_reason":"sentry-sdk integrated, optional via SENTRY_DSN env var","labels":["just-do-it"]}
{"id":"obsidian-vault-backup-axh","title":"_parse_snapshot_id returns 'snapshot' instead of actual ID","description":"The word 'snapshot' is 8 alphanumeric chars, same criteria used to match snapshot IDs. Since parts are iterated left-to-right, 'snapshot' matches before the real ID. Fix: skip known words like 'snapshot'/'saved', or index-based extraction after 'snapshot' keyword.","status":"closed","priority":2,"issue_type":"bug","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-08T13:34:09.130952-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-08T13:36:40.650622-06:00","closed_at":"2026-02-08T13:36:40.650622-06:00","close_reason":"Fixed and verified by test suite"}
{"id":"obsidian-vault-backup-biz","title":"initialize_git() modifies global git config","description":"__main__.py initialize_git() line 108-111 runs:\n    git config --global --add safe.directory \u003cvault_path\u003e\n\nThis modifies the global ~/.gitconfig which could conflict in shared environments or accumulate stale entries. Multiple container restarts with different vault paths leave orphaned entries.\n\nIn a container this is less of a concern, but if run locally it pollutes user's global config.\n\nAlso: all git config subprocess.run calls use check=True (lines 125-136). Any single git config failure crashes the service with CalledProcessError instead of a clean error message.","status":"closed","priority":2,"issue_type":"bug","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-08T13:07:19.838289-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-08T13:36:40.681212-06:00","closed_at":"2026-02-08T13:36:40.681212-06:00","close_reason":"Fixed and verified by test suite","labels":["just-do-it"]}
{"id":"obsidian-vault-backup-dfe","title":"Add startup notification when sidecar boots","description":"Container starts silently - no alive ping. If it restarts in a loop, the only signal is the health endpoint. Add a notifier.success() call after startup completes in __main__.py to send a Vault Backup Online notification.","status":"closed","priority":2,"issue_type":"task","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-08T13:12:38.241192-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-08T13:20:37.55272-06:00","closed_at":"2026-02-08T13:20:37.552724-06:00","labels":["feature"]}
{"id":"obsidian-vault-backup-ebg","title":"Fragile JSON traversal in LLM response parsing","description":"backup.py _call_anthropic() and _call_openai_compatible() have fragile response parsing:\n\nLine 103: result.get('content', [{}])[0].get('text')\nLine 134: result.get('choices', [{}])[0].get('message', {}).get('content')\n\nIf the API returns an empty list for 'content' or 'choices' (e.g., content moderation refusal, rate limit, malformed response), these will IndexError on [0] because:\n- [{}] default only applies when key is missing entirely\n- If key exists but value is [] (empty list), [0] throws IndexError\n\nFix: Add bounds checking or use a safer extraction pattern.","status":"closed","priority":2,"issue_type":"bug","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-08T13:06:44.458532-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-08T13:36:40.619008-06:00","closed_at":"2026-02-08T13:36:40.619008-06:00","close_reason":"Fixed and verified by test suite","labels":["just-do-it"]}
{"id":"obsidian-vault-backup-eqn","title":"Add simple restore/browse UI","description":"Add a lightweight web UI for browsing and restoring files from backups. NOT a full-featured app - just enough to be visual.\n\nCore views:\n- Timeline/snapshot list (restic snapshots + git commits)\n- File browser within a snapshot\n- File diff/preview (see what changed)\n- One-click restore of individual files or folders\n\nTech approach: Single Python file serving a simple HTML/JS frontend. Extend the existing health.py HTTP server or add a second one. No frameworks - vanilla HTML/CSS/JS or a single-file library like Alpine.js/htmx.\n\nKeep it minimal - this is a sidecar container, not a SaaS product.","status":"closed","priority":2,"issue_type":"feature","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-08T12:50:23.617039-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-09T09:07:24.659137-06:00","closed_at":"2026-02-09T09:07:24.659137-06:00","close_reason":"Implemented restore/browse web UI with htmx at /ui endpoint. 46 new tests, all 227 passing.","labels":["plan-worthy"],"dependencies":[{"issue_id":"obsidian-vault-backup-eqn","depends_on_id":"obsidian-vault-backup-rpv","type":"blocks","created_at":"2026-02-08T12:52:48.27124-06:00","created_by":"Cameron Sjo"}]}
{"id":"obsidian-vault-backup-hg5","title":"Add test suite","description":"Zero test coverage currently. pytest + pytest-cov already in pyproject.toml but no tests/ directory or test files exist.\n\nNeeds tests for:\n- config.py: env var parsing, defaults, validation\n- backup.py: git commit flow, restic backup/prune, AI commit message generation\n- watcher.py: file change detection, debounce logic\n- notify.py: Discord/Slack/webhook payload formatting, notify level filtering\n- health.py: health endpoint responses\n- __main__.py: initialization, signal handling, gitignore creation\n\nApproach: Integration tests preferred over unit tests. Mock external calls (git, restic, HTTP) but test real logic. Use pytest fixtures for config objects and temp directories.","status":"closed","priority":1,"issue_type":"feature","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-08T12:50:30.76915-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-08T13:34:37.647897-06:00","closed_at":"2026-02-08T13:34:37.647897-06:00","close_reason":"108 tests across 5 test files, 93-100% coverage on testable modules. Surfaced 1 new bug (axh: snapshot ID parser). Confirmed 3 existing bugs (59s, ebg, lpg).","labels":["just-do-it"]}
{"id":"obsidian-vault-backup-je8","title":"Watcher exceptions don't trigger notifications","description":"watcher.py:103-104 catches Exception in _trigger_backup and logs it, but the error never reaches the Notifier. If the backup callback blows up, you get a log line but no alert. The Notifier needs to be accessible from the watcher error path, or on_changes needs to be wrapped with error notification.","status":"closed","priority":2,"issue_type":"task","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-08T13:12:39.641594-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-08T13:20:37.78413-06:00","closed_at":"2026-02-08T13:20:37.784135-06:00","labels":["bug"]}
{"id":"obsidian-vault-backup-lpg","title":"Fix config.py env var parsing - no validation on integers","description":"config.py from_env() methods use raw int() on env vars with no error handling:\n- RetentionPolicy.from_env(): RETENTION_DAILY, RETENTION_WEEKLY, RETENTION_MONTHLY\n- Config.from_env(): DEBOUNCE_SECONDS, HEALTH_PORT\n\nSetting RETENTION_DAILY=abc crashes the app with an unhandled ValueError.\nSetting HEALTH_PORT=-1 or HEALTH_PORT=99999 silently accepts invalid values.\n\nShould validate and provide clear error messages for bad values.\n\nAlso: NotifyConfig.from_env() silently falls back to ALL on invalid NOTIFY_LEVEL - should at least log a warning.","status":"closed","priority":2,"issue_type":"bug","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-08T13:06:31.690617-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-08T13:36:40.569726-06:00","closed_at":"2026-02-08T13:36:40.569726-06:00","close_reason":"Fixed and verified by test suite","labels":["just-do-it"]}
{"id":"obsidian-vault-backup-nah","title":"Add logging to notify.py","description":"notify.py needs logging for:\n- Notifier.__init__: Log which providers are registered\n- Notifier.send: Log when notifications are sent or filtered by level\n- Provider._post methods: Log successful sends (currently only log failures)\n\nCurrently only failures are logged (log.warning in each _post method). Success path is completely silent - you can't tell from logs if notifications are actually being delivered.","status":"closed","priority":3,"issue_type":"task","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-08T13:05:55.527138-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-08T13:21:16.808904-06:00","closed_at":"2026-02-08T13:21:16.808904-06:00","close_reason":"Closed","labels":["just-do-it"],"dependencies":[{"issue_id":"obsidian-vault-backup-nah","depends_on_id":"obsidian-vault-backup-5ii","type":"blocks","created_at":"2026-02-08T13:06:23.501083-06:00","created_by":"Cameron Sjo"}]}
{"id":"obsidian-vault-backup-nyd","title":"Add logging to backup.py","description":"backup.py has logging gaps:\n- has_changes(): No logging at all\n- get_changed_files(): No logging of file count\n- get_changes_summary(): No logging\n- _call_anthropic(): Logs start but not completion/result\n- _call_openai_compatible(): Logs start but not completion\n- restic_backup(): Doesn't log snapshot ID from stdout\n- restic_prune(): Doesn't log retention stats from output\n- run_backup(): No log for overall operation start; state file writes not logged\n\nThe backup flow is the core of the app - every step should tell a story in the logs.","status":"closed","priority":3,"issue_type":"task","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-08T13:06:01.920305-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-08T13:21:17.063548-06:00","closed_at":"2026-02-08T13:21:17.063548-06:00","close_reason":"Closed","labels":["just-do-it"],"dependencies":[{"issue_id":"obsidian-vault-backup-nyd","depends_on_id":"obsidian-vault-backup-5ii","type":"blocks","created_at":"2026-02-08T13:06:23.589526-06:00","created_by":"Cameron Sjo"}]}
{"id":"obsidian-vault-backup-omq","title":"DRY violation: three identical _post methods in notify.py","description":"DiscordWebhook._post, SlackWebhook._post, and GenericWebhook._post are copy-paste identical (lines 49-62, 87-100, 121-134). The only difference is the warning message string.\n\nExtract _post to the NotificationProvider base class or a shared helper.\n\nAlso: deferred import of NotifyLevel in Notifier.__init__ (line 141) is unnecessary - it's in the same package and can be imported at module level with TYPE_CHECKING guard already in place.","status":"closed","priority":3,"issue_type":"task","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-08T13:06:37.839703-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-08T13:23:19.44477-06:00","closed_at":"2026-02-08T13:23:19.44477-06:00","close_reason":"Closed","labels":["just-do-it"]}
{"id":"obsidian-vault-backup-quo","title":"main() has no top-level error handling","description":"__main__.py main() has no try/except around the initialization sequence (lines 156-228). Any init failure (git not installed, vault path invalid, port already in use) produces an unhandled traceback instead of a clean error message.\n\nShould wrap initialization in try/except, log the error cleanly, and exit with a non-zero code. Critical for container environments where crash logs need to be readable.","status":"closed","priority":2,"issue_type":"bug","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-08T13:07:34.32909-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-08T13:36:40.715808-06:00","closed_at":"2026-02-08T13:36:40.715808-06:00","close_reason":"Fixed and verified by test suite","labels":["just-do-it"]}
{"id":"obsidian-vault-backup-rpv","title":"Add restore CLI module","description":"Add a restore.py module that wraps common git and restic restore operations into a clean CLI interface.\n\nCommands needed:\n- list snapshots (restic snapshots, formatted)\n- show file history (git log for specific file)\n- show file at point in time (git show)\n- restore single file from git commit or restic snapshot\n- restore folder from restic snapshot\n- diff file between snapshots/commits\n\nEntry point: python -m vault_backup restore \u003csubcommand\u003e\n\nThis is the backend that the restore UI will consume.","status":"closed","priority":2,"issue_type":"feature","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-08T12:50:15.670344-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-08T13:53:03.198201-06:00","closed_at":"2026-02-08T13:53:03.198201-06:00","close_reason":"Implemented restore.py (core logic), restore_cli.py (CLI), test_restore.py (31 tests, 99% coverage)","labels":["plan-worthy"]}
{"id":"obsidian-vault-backup-va5","title":"Rebrand to Inkwell","status":"open","priority":4,"issue_type":"task","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-08T13:57:21.047834-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-08T13:57:21.047834-06:00"}
{"id":"obsidian-vault-backup-wpw","title":"Update stale ANTHROPIC_MODEL env var","description":"Container has ANTHROPIC_MODEL=claude-3-5-haiku-latest but the code default is claude-haiku-4-5-latest. The old name probably still resolves but should be updated to the current model identifier.","status":"closed","priority":3,"issue_type":"task","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-08T13:12:41.591153-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-08T13:20:38.329792-06:00","closed_at":"2026-02-08T13:20:38.329796-06:00","labels":["task"]}
{"id":"obsidian-vault-backup-wsf","title":"Discord webhook 403: missing User-Agent header in notify.py","description":"All three webhook providers (DiscordWebhook, SlackWebhook, GenericWebhook) use urllib.request without setting a User-Agent header. Discord returns 403 Forbidden for requests without one, silently killing all notifications.\n\nThe _post() methods catch the exception and log a warning, so it fails silently.\n\nFix: Add User-Agent header to all _post methods. Also a good time to DRY up the three identical _post methods (see obsidian-vault-backup-omq).\n\nAdditionally:\n- Avatar URL uses SVG which Discord ignores â€” switch to PNG\n- Watcher logs every inotify event individually (\"Change detected, backup scheduled in 300 seconds\" x12 per commit). Should debounce/summarize the logging, not just the backup trigger.\n\nDiscovered by testing from the container:\n```\nurllib.error.HTTPError: HTTP Error 403: Forbidden\n```\nAdding `User-Agent: ObsidianBackup/1.0` to the request headers fixes it (204 response).","status":"open","priority":1,"issue_type":"bug","owner":"cameronsjo@users.noreply.github.com","created_at":"2026-02-08T13:21:01.787983-06:00","created_by":"Cameron Sjo","updated_at":"2026-02-09T10:04:48.827209-06:00"}
